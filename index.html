<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JSON Formatter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }

    button {
      padding: 10px;
      margin-bottom: 20px;
    }

    pre {
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <label for="jsonInput">Enter JSON Data:</label>
  <textarea id="jsonInput" rows="10" cols="50"></textarea><br>
  <button onclick="formatJSON()">Format JSON</button>
  <pre id="output"></pre>

  <script>
    // Title mapping function
    function getTitle(key) {
      const titleMap = {
        complainantName: "Name",
        CategoryMaster_categoryName: "Dispute Category",
        SubCategoryMaster_categoryName: "Dispute Sub Category",
        Respondent_organisationName: "Company Name",
        Complainant_phoneNumber: "Mobile Number",
        Complainant_email: "Email",
        Complainant_panNumber: "PAN",
        Respondent_primaryContact: "Mobile Number",
        Respondent_primaryEmail: "Email",
        Respondent_registeredAddress: "Address",
        claimAmount: "Claim Amount",
        modeOfHoldingSecurities_mode: "Mode of holding securities",
        ComplainNatures_0_description: "Dispute Details",
        ComplainNatures_0_ComplainComments_0_description: "Comments Section",
        ComplainNatures_0_ComplainComments_0_NestedComments_0_description: "Nested Comments"
      };

      return titleMap[key] || key;
    }

    // Function to format the JSON object
    function formatJSON() {
      const jsonInput = document.getElementById('jsonInput').value;
      try {
        const jsonData = JSON.parse(jsonInput);
        const formattedJSON = formatObject(jsonData);
        document.getElementById('output').innerHTML = formattedJSON;
      } catch (error) {
        alert('Invalid JSON data. Please enter valid JSON.');
      }
    }

    // Recursive function to format nested objects
    function formatObject(obj) {
      let result = '';
      for (const key in obj) {
        const title = getTitle(key);
        const value = formatValue(obj[key]);
        result += `${title}: ${value}\n\n`;
      }
      return result.trim();
    }

    // Function to format values
    function formatValue(value) {
      if (typeof value === 'object') {
        return formatObject(value);
      } else if (value instanceof Date) {
        return formatDate(value);
      } else {
        return value;
      }
    }

    // Function to format date values
    function formatDate(date) {
      const options = { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric', timeZoneName: 'short' };
      return date.toLocaleDateString('en-US', options);
    }
  </script>
</body>
</html>
